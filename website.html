<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
  
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  <link rel="Stylesheet" type="text/css" href="style.css">
  


   

   
  
    <title>Automania</title>

    
  </head>
  <body>
    


    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <a class="navbar-brand" href="#"></a>
        <img class="logoo" src="https://i.imgur.com/3gevfYy.jpg">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
      
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
              <a class="nav-link" href="website.html">Home <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Cars</a>
              <div class="dropdown-menu">
                <a class="dropdown-item"  href=".bd-example-modal-lg" data-toggle="modal" data-target=".bd-example-modal-lg">2020 Ford Mustang 5.0 V8 GT</a>
                <a class="dropdown-item"  href=".bd-bil2" data-toggle="modal" data-target=".bd-bil2">Audi E-Tron Sportback</a>
                <a class="dropdown-item" href=".bd-bil3" data-toggle="modal" data-target=".bd-bil3">Nissan GT-R</a>
                
              </div>
            </li>
        
            
              <li class="nav-item">
                <a class="nav-link" href="admin.html">Admin</a>
              </li>
              
          </ul>        
          <form class="form-inline my-2 my-lg-0">
            
            <li class="cart">
              <a href="shopping.html">
                <img class="shop" src="https://i.imgur.com/uqAQj1J.png">
              </a>
          </img class="shop" src="https://i.imgur.com/uqAQj1J.png" li>
            <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
            <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
          </form>
        </div>
        
      </nav>

      <div class="row">
        <div class="box">
      <div id="carousell" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner">
          <div class="carousel-item active">
              <img src="https://i.imgur.com/NIQ2iLT.jpg" class="d-block w-100" alt="...">
          </div>
          <div class="carousel-item">
            <img src="https://i.imgur.com/smBDEz2.jpg" class="d-block w-100" alt="...">
          </div>
          <div class="carousel-item">
            <img src="https://i.imgur.com/ECdsoEq.jpg" class="d-block w-100" alt="...">
          </div>
        </div>
      </div>
    </div>
    </div>

    <div class="roww">

      <h1 class="top-title">Welcome to Automania</h1>
    </div>
<!--products-->
<div id="cardContainer" class="card-deck">
  <!-- Container that will hold all the cards that creates dynamically -->
</div>
   


<div class="container">
	<div class="row">
		<h2>Automania 2020 - Powered by Nissan</h2>
	</div>
	
	<div class="block">
      <div class="row">
        <div class="span4">
          <img class="img-left" src="https://static.wixstatic.com/media/8678bb_bf8365a580774309991d30e5d425efe6~mv2.png/v1/fill/w_712,h_379,al_c,q_85,usm_0.66_1.00_0.01/AM_2019_FB_Event_Cover.webp"/>
          <div class="content-heading"><h3>Experience </h3></div>
          

          <p class="textt">New Zealand's most diverse Automotive Festival is back for 2020 for its biggest and best show yet. From Japanese machines to Hot Rods, Muscle Cars to Exotics, Vintage to the weird and whacky of the car world as well a stellar selection from the 2 Wheel world, you will see a wide range of vehicles on display including our amazing feature show cars on the Automania Centre piece display
          
          Entertainment: Prepare for a full-on day of entertainment, from the show cars to the Platinum Wheels Live Action Arena, there is always something happening. Not just focused on the cars, you will also see anything from Chilli eating competitions to Strongman displays, Gaming challenges/demos to Drift Karts, there is something for everyone.</p>
        </div>
     </div>
    </div>
  </div>


  

  <!--modal-->
  <div class="modalcontainer">
    <div class="modal fade" id="modalCar" tabindex="-1" role="dialog" aria-labelledby="txtName"
      aria-hidden="true">
      <div class="modal-dialog modal-dialog-scrollable" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="txtName"></h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <img src="bild/mustang.jpg" class="card-img-top" alt="...">
            <h4 id="txtName"></h4>
            <h5 id="txtPrice"></h5>
            <p id="txtDescription"></p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
            <button id="addToCartBtn" type="button" class="btnn btn-success">Add to cart</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  
<!-- Footer -->
<footer class="footer">

    <!-- Footer Links -->
    <div class="container-fluid text-center text-md-left">
  
      <!-- Grid row -->
      <div class="roww">
  
        <!-- Grid column -->
        <div class="col-md">
  
          <!-- Content -->
          <h5 class="text-uppercase">Contact us</h5>
          <p class="fot">Automania@gmail.com</p>
          <p class="fot">Phone: 123-12345</p>
  
        </div>
        <!-- Grid column -->
  
        <hr class="clearfix w-100 d-md-none pb-3">
  
       
       
      </div>
      <!-- Grid row -->
  
    </div>
    <!-- Footer Links -->
  
    <!-- Copyright -->
    
    <!-- Copyright -->
  
  </footer>
  <!-- Footer -->

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script type="module" src="https://unpkg.com/ionicons@4.5.10-0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule="" src="https://unpkg.com/ionicons@4.5.10-0/dist/ionicons/ionicons.js"></script>
    <script src="cart.js"></script>

    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
    integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
    integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
    crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
    integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
    crossorigin="anonymous"></script>
<!-- Bootstrap CSS -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

   
    
    <script>
      window.onload = function(){
        getProducts();
       
      }
  
      function getProducts() {
        $.getJSON("http://localhost:3000/products", function(data) {
          showCards(data);
        });
      }
     

      function getProduct(id) {
        $.getJSON("http://localhost:3000/productid/" + id, function(data){
         console.log(data.name + " fr√•n getProduct");
          showProductInForm(data);
        });
      }

     
      
  
      function showCards(data) {
      let cardDeck = $("#cardContainer")
      cardDeck.empty();

      let cardRow = document.createElement("div");
      cardRow.setAttribute("class", "row row-cols-1 row-cols-md-3 row-cols-lg-3 row-cols-sm-2");

      for (let i = 0; i < data.length; i++) {

        let cardCol = document.createElement("div");
        cardCol.setAttribute("class", "col mb-4");

        let card = document.createElement("div");
        card.setAttribute("class", "card h-100");

        let cardImg = document.createElement("img");
        cardImg.setAttribute("class", "card-img-top");
        cardImg.setAttribute("src", " bild/mustang.jpg");

        let cardBody = document.createElement("div");
        cardBody.setAttribute("class", "card-body");

        let cardTitle = document.createElement("h5");
        cardTitle.setAttribute("class", "card-title");
        cardTitle.innerHTML += data[i].name;

        let cardPrice = document.createElement("h6");
        cardPrice.setAttribute("class", "card-price");
        cardPrice.innerHTML += "Price: " + data[i].price + " $";

        let cardText = document.createElement("p");
        cardText.setAttribute("class", "card-text");
        cardText.innerText += data[i].description;

        let cardBtn = document.createElement("button");
        cardBtn.setAttribute("class", "btn btn-primary");
        cardBtn.setAttribute("type", "button");
        cardBtn.setAttribute("data-toggle", "modal");
        cardBtn.setAttribute("data-target", "#modalCar");
        cardBtn.addEventListener("click", function () { getProduct(data[i].id) });
        cardBtn.innerHTML += "Read more";

        cardRow.append(cardCol);
        cardCol.append(card);
        card.append(cardImg);
        card.append(cardBody);
        cardBody.append(cardTitle);
        cardBody.append(cardPrice);
        cardBody.append(cardText);
        cardBody.append(cardBtn);
      };
      cardDeck.append(cardRow);
    }
  
    function showProductInForm(data) {

let myName = document.getElementById("txtName");
myName.innerHTML = data.name;

let myDescription = document.getElementById("txtDescription");
myDescription.innerHTML = data.description;

let myPrice = document.getElementById("txtPrice");
myPrice.innerHTML = "Price: " + data.price + " $";

document.getElementById("addToCartBtn").onclick = function add() {
  addItem(data);
  alert("Product: " + data.name + "\nhas been added to the cart.");
}
}
    </script>

  </body>
</html>